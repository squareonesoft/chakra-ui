"use strict";

exports.__esModule = true;
exports.useMachine = useMachine;

var _react = require("react");

var _valtio = require("valtio");

var useSafeLayoutEffect = typeof document !== "undefined" ? _react.useLayoutEffect : _react.useEffect;

function useMachine(getMachine) {
  var _useState = (0, _react.useState)(function () {
    return typeof getMachine === "function" ? getMachine() : getMachine;
  }),
      service = _useState[0];

  useSafeLayoutEffect(function () {
    service.start();
    return function () {
      service.stop();
    };
  }, [service]);
  var state = (0, _valtio.useSnapshot)(service.state);
  return [state, service.send, service];
}
//# sourceMappingURL=use-machine.js.map